# План тестирования приложения "Система портфолио и компетенций"

## 1. Общая информация
- **Объект тестирования**: Модуль `tracker.py` (GUI-приложение для управления портфолио)
- **Технологии**: Python, Tkinter, PostgreSQL, psycopg2, python-docx
- **Тип тестирования**: Функциональное, интеграционное, GUI-тестирование

## 2. Цели тестирования
- Проверить корректность работы всех функций приложения
- Убедиться в целостности данных в БД
- Проверить взаимодействие с внешними компонентами (БД, Word)
- Проверить обработку ошибок и граничные условия
- Оценить удобство пользовательского интерфейса

## 3. Подготовка к тестированию
### 3.1 Требования к среде
- Python 3.8+
- Установленные пакеты: `tkinter`, `psycopg2`, `python-docx`
- PostgreSQL сервер с БД `postgres`
- Файл `competencies.json` (создается автоматически при первом запуске)

### 3.2 Настройка БД для тестирования
```sql
-- Создание тестового пользователя
CREATE USER test_user WITH PASSWORD 'test123';

-- Создание тестовой БД
CREATE DATABASE portfolio_test;

-- Предоставление прав
GRANT ALL PRIVILEGES ON DATABASE portfolio_test TO test_user;
```

### 3.3 Конфигурация тестов
- Создать копию `tracker.py` с измененными параметрами подключения к тестовой БД
- Подготовить тестовые данные

## 4. План тестирования по модулям

### 4.1 Модуль инициализации БД
**Тест-кейсы:**
1. **TC-001**: Проверка создания таблиц при первом запуске
   - Ожидаемый результат: Все 7 таблиц создаются успешно
   
2. **TC-002**: Проверка загрузки компетенций из JSON
   - Ожидаемый результат: Данные из `competencies.json` загружаются в таблицу `competencies`
   
3. **TC-003**: Проверка создания JSON по умолчанию
   - Удалить `competencies.json`
   - Ожидаемый результат: Файл создается с дефолтными данными

### 4.2 Модуль добавления записей
**Тест-кейсы:**
4. **TC-004**: Добавление записи с обязательными полями
   - Ввод: Название, тип, дата
   - Ожидаемый результат: Запись успешно сохраняется в БД

5. **TC-005**: Добавление записи со всеми полями
   - Ввод: Все поля + ключевые слова + компетенции
   - Ожидаемый результат: Все данные сохраняются в соответствующие таблицы

6. **TC-006**: Попытка добавления с некорректной датой
   - Ввод: Дата в формате "ДД-ММ-ГГГГ"
   - Ожидаемый результат: Сообщение об ошибке валидации

7. **TC-007**: Добавление записи без обязательных полей
   - Ввод: Пустые обязательные поля
   - Ожидаемый результат: Сообщение об ошибке

8. **TC-008**: Автодополнение ключевых слов
   - Ввод: Часть существующего ключевого слова
   - Ожидаемый результат: Появляются подсказки

### 4.3 Модуль просмотра записей
**Тест-кейсы:**
9. **TC-009**: Загрузка списка записей
   - Ожидаемый результат: Все записи пользователя отображаются в Treeview

10. **TC-010**: Удаление записи
    - Выбрать запись → Удалить
    - Ожидаемый результат: Запись удаляется из БД и интерфейса

11. **TC-011**: Просмотр деталей записи
    - Двойной клик по записи
    - Ожидаемый результат: Открывается окно с детальной информацией

### 4.4 Модуль статистики
**Тест-кейсы:**
12. **TC-012**: Обновление статистики
    - Добавить/удалить записи → Нажать "Обновить"
    - Ожидаемый результат: Статистика пересчитывается

13. **TC-013**: Формирование исследовательской карты
    - Ожидаемый результат: Отображаются ключевые слова и соавторы с частотами

14. **TC-014**: Расчет компетенций
    - Добавить записи с оценками компетенций
    - Ожидаемый результат: Правильно рассчитаны средние уровни

### 4.5 Модуль достижений
**Тест-кейсы:**
15. **TC-015**: Разблокировка достижения "Первый шаг"
    - Добавить первую запись
    - Ожидаемый результат: Достижение появляется в БД и интерфейсе

16. **TC-016**: Разблокировка достижения "Командный игрок"
    - Добавить 3 записи с соавторами
    - Ожидаемый результат: Достижение разблокируется

17. **TC-017**: Проверка предотвращения дублирования достижений
    - Повторить условие для уже разблокированного достижения
    - Ожидаемый результат: Достижение не добавляется повторно

### 4.6 Модуль целей
**Тест-кейсы:**
18. **TC-018**: Добавление цели
    - Ввести описание цели
    - Ожидаемый результат: Цель добавляется в БД и список

19. **TC-019**: Добавление цели с целевым значением
    - Ввести цель и числовое значение
    - Ожидаемый результат: Цель сохраняется с указанным target_value

20. **TC-020**: Добавление цели с некорректным значением
    - Ввести нечисловое значение
    - Ожидаемый результат: Используется значение по умолчанию (1)

### 4.7 Модуль экспорта
**Тест-кейсы:**
21. **TC-021**: Экспорт в Word
    - Выполнить экспорт через меню
    - Ожидаемый результат: Создается .docx файл со всеми разделами

22. **TC-022**: Проверка содержимого экспорта
    - Открыть созданный файл
    - Ожидаемый результат: Все данные присутствуют в правильном формате

### 4.8 Обработка ошибок
**Тест-кейсы:**
23. **TC-023**: Отсутствие подключения к БД
    - Остановить PostgreSQL
    - Ожидаемый результат: Сообщение об ошибке, приложение закрывается

24. **TC-024**: Потеря соединения во время работы
    - Прервать подключение к БД во время операции
    - Ожидаемый результат: Откат транзакции, сообщение об ошибке

25. **TC-025**: Отсутствие прав на запись файлов
    - Запуск из директории только для чтения
    - Ожидаемый результат: Ошибка при попытке сохранения экспорта

## 5. Интеграционное тестирование

### 5.1 Тестирование взаимодействия с БД
- Проверка целостности внешних ключей
- Тестирование транзакций (rollback при ошибке)
- Проверка производительности при большом объеме данных

### 5.2 Тестирование GUI
- Проверка корректности отображения всех элементов
- Тестирование навигации между вкладками
- Проверка адаптивности интерфейса (изменение размеров окна)

## 6. Нагрузочное тестирование
- Добавление 100+ записей
- Проверка времени отклика интерфейса
- Проверка потребления памяти

## 7. Кросс-платформенное тестирование
- Windows 10/11
- Linux (Ubuntu)
- macOS (при наличии)

## 8. Документация тестирования

### 8.1 Отчет о тестировании
Для каждого тест-кейса фиксировать:
- Номер тест-кейса
- Описание теста
- Шаги воспроизведения
- Ожидаемый результат
- Фактический результат
- Статус (Pass/Fail)
- Комментарии/замечания

### 8.2 Баг-репорты
Формат баг-репорта:
1. ID бага
2. Краткое описание
3. Шаги воспроизведения
4. Ожидаемое поведение
5. Фактическое поведение
6. Серьезность (Critical/Major/Minor)
7. Приоритет (High/Medium/Low)
8. Скриншоты (при необходимости)
9. Окружение

## 9. Критерии приемки
Приложение считается прошедшим тестирование, если:
- Все тест-кейсы с статусом "Pass"
- Нет критических багов
- Все основные функции работают корректно
- Интерфейс отображается без визуальных дефектов
- Экспорт в Word работает стабильно
- Обработка ошибок адекватна и информативна

## 10. Регрессионное тестирование
После каждого изменения кода выполнять:
- Критические тест-кейсы (TC-001, TC-004, TC-009, TC-021)
- Тест-кейсы, связанные с измененным функционалом
- Интеграционные тесты с БД

## 11. Автоматизация тестирования
Рекомендуемые инструменты:
- `unittest` или `pytest` для модульного тестирования
- `pytest-qt` для тестирования GUI
- `pgTAP` для тестирования БД
- Скрипты для подготовки/очистки тестовых данных

## 12. График тестирования
| Этап | Длительность | Ответственный |
|------|--------------|---------------|
| Подготовка тестовой среды | 1 день | Тестировщик |
| Модульное тестирование | 2 дня | Тестировщик |
| Интеграционное тестирование | 1 день | Тестировщик |
| GUI -тестирование | 1 день | Тестировщик |
| Нагрузочное тестирование | 0.5 дня | Тестировщик |
| Анализ результатов | 0.5 дня | Тестировщик |
| Составление отчетов | 1 день | Тестировщик |
